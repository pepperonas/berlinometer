# VPS-spezifische Environment Configuration für 69.62.121.168
# Optimiert für PM2 ohne Docker

# ============ APPLICATION ============
NODE_ENV=production
APP_NAME=HandwerkOS
APP_VERSION=1.0.0
APP_URL=https://erp.mrx3k1.de
API_URL=https://erp.mrx3k1.de/api/v1

# ============ VPS CONFIGURATION ============
VPS_HOST=69.62.121.168
VPS_PATH=/var/www/html/e-rechnung
DOMAIN=erp.mrx3k1.de

# ============ DATABASE ============
DATABASE_URL=postgresql://handwerkos_user:SECURE_DB_PASSWORD_CHANGE_ME@localhost:5432/handwerkos_erp
POSTGRES_USER=handwerkos_user
POSTGRES_PASSWORD=SECURE_DB_PASSWORD_CHANGE_ME
POSTGRES_DB=handwerkos_erp

# ============ REDIS ============
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# ============ AUTHENTICATION ============
JWT_SECRET=CHANGE_THIS_TO_VERY_SECURE_JWT_SECRET_MIN_32_CHARS_LONG
JWT_REFRESH_SECRET=CHANGE_THIS_TO_VERY_SECURE_REFRESH_SECRET_MIN_32_CHARS
JWT_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d
SESSION_SECRET=CHANGE_THIS_TO_VERY_SECURE_SESSION_SECRET_MIN_32_CHARS

# ============ EMAIL (SMTP) ============
SMTP_HOST=mail.mrx3k1.de
SMTP_PORT=587
SMTP_USER=noreply@mrx3k1.de
SMTP_PASSWORD=YOUR_SMTP_PASSWORD
SMTP_FROM_EMAIL=noreply@erp.mrx3k1.de
SMTP_FROM_NAME=HandwerkOS ERP

# ============ FILE STORAGE (Local) ============
STORAGE_TYPE=local
UPLOAD_PATH=/var/www/html/e-rechnung/uploads
DOCUMENTS_PATH=/var/www/html/e-rechnung/documents

# ============ API CONFIGURATION ============
API_PORT=3901
API_HOST=127.0.0.1
API_PREFIX=/api/v1

# Rate Limiting (Production)
RATE_LIMIT_MAX=300
RATE_LIMIT_WINDOW=15m

# CORS
CORS_ORIGIN=https://erp.mrx3k1.de,http://erp.mrx3k1.de
CORS_CREDENTIALS=true

# ============ FRONTEND CONFIGURATION ============
WEB_PORT=3900
NEXT_PUBLIC_API_URL=https://erp.mrx3k1.de/api/v1
NEXT_PUBLIC_APP_NAME=HandwerkOS
NEXT_PUBLIC_APP_VERSION=1.0.0

# ============ FEATURES FLAGS ============
FEATURE_REGISTRATION_ENABLED=true
FEATURE_EMAIL_VERIFICATION=true
FEATURE_TWO_FACTOR_AUTH=true
FEATURE_INVOICE_EMAIL=true
FEATURE_XRECHNUNG_EXPORT=true
FEATURE_ZUGFERD_EXPORT=true

# ============ BUSINESS CONFIGURATION ============
DEFAULT_CURRENCY=EUR
DEFAULT_LANGUAGE=de
DEFAULT_TIMEZONE=Europe/Berlin
DEFAULT_DATE_FORMAT=DD.MM.YYYY

# Invoice settings
INVOICE_DUE_DAYS=30
REMINDER_DAYS_1=7
REMINDER_DAYS_2=14
REMINDER_DAYS_3=21
REMINDER_FEE=5.00

# ============ MONITORING & LOGGING ============
LOG_LEVEL=warn
LOG_FORMAT=json
LOG_DIR=/var/www/html/e-rechnung/logs

# ============ PRODUCTION SECURITY ============
SECURE_COOKIES=true
HTTPS_ONLY=true
HELMET_ENABLED=true

# ============ BACKUP & MAINTENANCE ============
BACKUP_ENABLED=true
BACKUP_DIR=/var/www/html/e-rechnung/backups
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# ============ PM2 CONFIGURATION ============
PM2_APP_NAME=handwerkos-erp
PM2_INSTANCES=1
PM2_MAX_MEMORY=512M
PM2_NODE_ARGS=--max-old-space-size=512

# ============ CACHING ============
CACHE_TTL=3600
CACHE_ENABLED=true

# ============ QUEUE PROCESSING ============
QUEUE_ENABLED=true
QUEUE_CONCURRENCY=2

# Plan limits
PLAN_STARTER_LIMIT=10
PLAN_PROFESSIONAL_LIMIT=100
PLAN_BUSINESS_LIMIT=500
PLAN_ENTERPRISE_LIMIT=-1