# HandwerkOS Environment Configuration
# Copy this file to .env and fill in the values

# ============ APPLICATION ============
NODE_ENV=development
APP_NAME=HandwerkOS
APP_VERSION=1.0.0
APP_URL=http://localhost:3000
API_URL=http://localhost:3001

# ============ DATABASE ============
DATABASE_URL=postgresql://handwerkos:handwerkos_dev_password@localhost:5432/handwerkos_dev

# ============ REDIS ============
REDIS_URL=redis://:redis_dev_password@localhost:6379
REDIS_PASSWORD=redis_dev_password

# ============ AUTHENTICATION ============
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-min-32-chars
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-this-in-production-min-32-chars
JWT_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# Session secret for cookies
SESSION_SECRET=your-super-secret-session-key-change-this-in-production

# ============ EMAIL ============
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=noreply@handwerkos.de
SMTP_FROM_NAME=HandwerkOS

# For production, use real SMTP service:
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password

# ============ FILE STORAGE (MinIO/S3) ============
S3_ENDPOINT=http://localhost:9000
S3_ACCESS_KEY=handwerkos_minio
S3_SECRET_KEY=handwerkos_minio_password
S3_BUCKET_NAME=handwerkos-documents
S3_REGION=eu-central-1

# For production AWS S3:
# S3_ENDPOINT=https://s3.eu-central-1.amazonaws.com
# S3_ACCESS_KEY=your-aws-access-key
# S3_SECRET_KEY=your-aws-secret-key

# ============ API CONFIGURATION ============
API_PORT=3001
API_HOST=0.0.0.0
API_PREFIX=/api/v1

# Rate Limiting
RATE_LIMIT_MAX=1000
RATE_LIMIT_WINDOW=15m

# CORS
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true

# ============ FRONTEND CONFIGURATION ============
NEXT_PUBLIC_API_URL=http://localhost:3001/api/v1
NEXT_PUBLIC_APP_NAME=HandwerkOS
NEXT_PUBLIC_APP_VERSION=1.0.0

# ============ FEATURES FLAGS ============
FEATURE_REGISTRATION_ENABLED=true
FEATURE_EMAIL_VERIFICATION=true
FEATURE_TWO_FACTOR_AUTH=true
FEATURE_INVOICE_EMAIL=true
FEATURE_XRECHNUNG_EXPORT=true
FEATURE_ZUGFERD_EXPORT=true

# ============ BUSINESS CONFIGURATION ============
DEFAULT_CURRENCY=EUR
DEFAULT_LANGUAGE=de
DEFAULT_TIMEZONE=Europe/Berlin
DEFAULT_DATE_FORMAT=DD.MM.YYYY

# Invoice settings
INVOICE_DUE_DAYS=30
REMINDER_DAYS_1=7
REMINDER_DAYS_2=14
REMINDER_DAYS_3=21
REMINDER_FEE=5.00

# ============ INTEGRATIONS ============
# DATEV Export
DATEV_CONSULTANT_NUMBER=
DATEV_CLIENT_NUMBER=

# Banking (for future EBICS integration)
BANK_CONNECTION_ENABLED=false

# ============ MONITORING & LOGGING ============
LOG_LEVEL=info
LOG_FORMAT=json

# Sentry (Error Tracking)
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# Analytics
ANALYTICS_ENABLED=false
ANALYTICS_TRACKING_ID=

# ============ DEVELOPMENT TOOLS ============
# Database
PGADMIN_DEFAULT_EMAIL=admin@handwerkos.de
PGADMIN_DEFAULT_PASSWORD=admin

# Prisma Studio
PRISMA_STUDIO_PORT=5555

# ============ PRODUCTION SECURITY ============
# Only set these in production!
# SECURE_COOKIES=true
# HTTPS_ONLY=true
# HELMET_ENABLED=true

# ============ BACKUP & MAINTENANCE ============
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30

# ============ MULTI-TENANT ============
TENANT_SUBDOMAIN_ENABLED=true
TENANT_CUSTOM_DOMAIN_ENABLED=false
MAX_TENANTS_PER_USER=1

# ============ SUBSCRIPTION & BILLING ============
STRIPE_PUBLIC_KEY=
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=

# Plan limits (documents per month)
PLAN_STARTER_LIMIT=10
PLAN_PROFESSIONAL_LIMIT=100
PLAN_BUSINESS_LIMIT=500
PLAN_ENTERPRISE_LIMIT=-1  # Unlimited

# ============ CACHING ============
CACHE_TTL=3600  # 1 hour in seconds
CACHE_ENABLED=true

# ============ QUEUE PROCESSING ============
QUEUE_ENABLED=true
QUEUE_CONCURRENCY=5

# Job queues
QUEUE_EMAIL=email-queue
QUEUE_PDF_GENERATION=pdf-queue
QUEUE_INVOICE_PROCESSING=invoice-queue
QUEUE_EXPORT=export-queue