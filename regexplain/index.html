<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RegExplain - Regex einfach lernen</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* Dark Theme Colors */
            --background-dark: #2B2E3B;
            --background-darker: #252830;
            --card-background: #343845;
            --card-hover: #3a3f4d;
            --accent-blue: #688db1;
            --accent-green: #9cb68f;
            --accent-red: #e16162;
            --text-primary: #d1d5db;
            --text-secondary: #9ca3af;
            --border-color: rgba(255, 255, 255, 0.08);
            
            /* Match Colors */
            --match-bg: rgba(156, 182, 143, 0.3);
            --match-border: #9cb68f;
            --group-1: rgba(255, 191, 36, 0.3);
            --group-2: rgba(96, 165, 250, 0.3);
            --group-3: rgba(192, 132, 252, 0.3);
            
            /* Shadows */
            --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.3);
            --shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
            --shadow-lg: 0 10px 30px rgba(0, 0, 0, 0.5);
            
            /* Spacing */
            --spacing-1: 0.25rem;
            --spacing-2: 0.5rem;
            --spacing-3: 0.75rem;
            --spacing-4: 1rem;
            --spacing-5: 1.25rem;
            --spacing-6: 1.5rem;
            --spacing-8: 2rem;
            --spacing-10: 2.5rem;
            --spacing-12: 3rem;
            --spacing-16: 4rem;
            
            /* Border Radius */
            --radius-sm: 0.25rem;
            --radius: 0.5rem;
            --radius-lg: 1rem;
            --radius-xl: 1.5rem;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
                'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
                sans-serif;
            background: var(--background-darker);
            min-height: 100vh;
            color: var(--text-primary);
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: var(--spacing-5);
        }

        .header {
            background: var(--card-background);
            border-radius: var(--radius-lg);
            padding: var(--spacing-8);
            margin-bottom: var(--spacing-8);
            box-shadow: var(--shadow-lg);
            text-align: center;
            border: 1px solid var(--border-color);
        }

        .header h1 {
            font-size: 2.5em;
            color: var(--text-primary);
            margin-bottom: var(--spacing-3);
            font-weight: 700;
        }

        .header p {
            font-size: 1.2em;
            color: var(--text-secondary);
        }

        .progress-bar {
            background: var(--background-dark);
            border-radius: var(--radius);
            height: 30px;
            margin-top: var(--spacing-5);
            overflow: hidden;
            position: relative;
            border: 1px solid var(--border-color);
        }

        .progress-fill {
            background: linear-gradient(90deg, var(--accent-blue), var(--accent-green));
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-primary);
            font-weight: bold;
        }

        .main-content {
            display: grid;
            grid-template-columns: 350px 1fr;
            gap: var(--spacing-8);
            margin-bottom: var(--spacing-8);
        }

        .sidebar {
            background: var(--card-background);
            border-radius: var(--radius-lg);
            padding: var(--spacing-6);
            box-shadow: var(--shadow-lg);
            height: fit-content;
            position: sticky;
            top: var(--spacing-5);
            border: 1px solid var(--border-color);
        }

        .sidebar h2 {
            color: var(--accent-blue);
            margin-bottom: var(--spacing-5);
            font-size: 1.5em;
            font-weight: 600;
        }

        .lesson-list {
            list-style: none;
        }

        .lesson-item {
            padding: var(--spacing-3) var(--spacing-4);
            margin-bottom: var(--spacing-3);
            border-radius: var(--radius);
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            display: flex;
            align-items: center;
            gap: var(--spacing-3);
            color: var(--text-primary);
        }

        .lesson-item:hover {
            background: var(--card-hover);
            transform: translateX(5px);
            border-color: var(--accent-blue);
        }

        .lesson-item.active {
            background: var(--accent-blue);
            color: var(--text-primary);
            border-color: var(--accent-blue);
        }

        .lesson-item.completed {
            border-color: var(--accent-green);
        }

        .lesson-item.completed::before {
            content: "‚úì";
            color: var(--accent-green);
            font-weight: bold;
        }

        .lesson-item.active.completed::before {
            color: var(--text-primary);
        }

        .content-area {
            background: var(--card-background);
            border-radius: var(--radius-lg);
            padding: var(--spacing-8);
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--border-color);
        }

        .tutorial-section {
            display: none;
        }

        .tutorial-section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .tutorial-section h3 {
            color: var(--text-primary);
            font-size: 1.8em;
            margin-bottom: var(--spacing-5);
            font-weight: 600;
        }

        .tutorial-content {
            margin-bottom: var(--spacing-8);
        }

        .explanation-box {
            background: var(--background-dark);
            border-left: 4px solid var(--accent-blue);
            padding: var(--spacing-5);
            border-radius: var(--radius);
            margin: var(--spacing-5) 0;
            border: 1px solid var(--border-color);
        }

        .explanation-box h4 {
            color: var(--accent-blue);
            margin-bottom: var(--spacing-3);
        }

        .explanation-box p {
            color: var(--text-secondary);
        }

        .regex-pattern {
            font-family: 'Courier New', monospace;
            background: var(--background-darker);
            color: var(--accent-blue);
            padding: var(--spacing-4) var(--spacing-5);
            border-radius: var(--radius);
            font-size: 1.2em;
            margin: var(--spacing-4) 0;
            display: inline-block;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid var(--accent-blue);
        }

        .regex-pattern:hover {
            transform: scale(1.02);
            background: var(--accent-blue);
            color: var(--background-darker);
            box-shadow: var(--shadow);
        }

        .pattern-parts {
            display: flex;
            gap: var(--spacing-3);
            flex-wrap: wrap;
            margin: var(--spacing-4) 0;
        }

        .pattern-part {
            padding: var(--spacing-2) var(--spacing-4);
            border-radius: var(--radius);
            font-family: 'Courier New', monospace;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .pattern-part.literal {
            background: rgba(104, 141, 177, 0.2);
            color: var(--accent-blue);
            border: 1px solid var(--accent-blue);
        }

        .pattern-part.metachar {
            background: rgba(225, 97, 98, 0.2);
            color: var(--accent-red);
            border: 1px solid var(--accent-red);
        }

        .pattern-part.quantifier {
            background: rgba(156, 182, 143, 0.2);
            color: var(--accent-green);
            border: 1px solid var(--accent-green);
        }

        .pattern-part.group {
            background: rgba(255, 191, 36, 0.2);
            color: #fbbf24;
            border: 1px solid #fbbf24;
        }

        .pattern-part.class {
            background: rgba(96, 165, 250, 0.2);
            color: #60a5fa;
            border: 1px solid #60a5fa;
        }

        .live-editor {
            margin-top: var(--spacing-8);
            padding: var(--spacing-6);
            background: var(--background-dark);
            border-radius: var(--radius-lg);
            border: 1px solid var(--border-color);
        }

        .live-editor h4 {
            color: var(--accent-blue);
            margin-bottom: var(--spacing-4);
            font-size: 1.3em;
            font-weight: 600;
        }

        .editor-controls {
            display: flex;
            gap: var(--spacing-4);
            margin-bottom: var(--spacing-5);
            flex-wrap: wrap;
        }

        .input-group {
            flex: 1;
            min-width: 250px;
        }

        .input-group label {
            display: block;
            margin-bottom: var(--spacing-2);
            font-weight: 600;
            color: var(--text-secondary);
            font-size: 0.875rem;
        }

        .input-group input {
            width: 100%;
            padding: var(--spacing-3) var(--spacing-4);
            border: 1px solid var(--border-color);
            border-radius: var(--radius);
            font-size: 1em;
            font-family: 'Courier New', monospace;
            transition: all 0.3s ease;
            background: var(--background-darker);
            color: var(--text-primary);
        }

        .input-group input:focus {
            outline: none;
            border-color: var(--accent-blue);
            box-shadow: 0 0 0 3px rgba(104, 141, 177, 0.15);
        }

        .flags-group {
            display: flex;
            gap: var(--spacing-4);
            align-items: center;
            flex-wrap: wrap;
        }

        .flag-checkbox {
            display: flex;
            align-items: center;
            gap: var(--spacing-2);
            cursor: pointer;
        }

        .flag-checkbox input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .flag-checkbox label {
            cursor: pointer;
            user-select: none;
            color: var(--text-secondary);
            transition: color 0.3s ease;
        }

        .flag-checkbox:hover label {
            color: var(--text-primary);
        }

        .test-text {
            width: 100%;
            min-height: 150px;
            padding: var(--spacing-4);
            border: 1px solid var(--border-color);
            border-radius: var(--radius);
            font-size: 1em;
            font-family: 'Courier New', monospace;
            resize: vertical;
            margin-bottom: var(--spacing-5);
            background: var(--background-darker);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .test-text:focus {
            outline: none;
            border-color: var(--accent-blue);
            box-shadow: 0 0 0 3px rgba(104, 141, 177, 0.15);
        }

        .result-display {
            background: var(--background-darker);
            border: 1px solid var(--border-color);
            border-radius: var(--radius);
            padding: var(--spacing-5);
            min-height: 150px;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            word-break: break-all;
            color: var(--text-primary);
        }

        .match {
            background: var(--match-bg);
            border: 1px solid var(--match-border);
            padding: var(--spacing-1) var(--spacing-2);
            border-radius: var(--radius-sm);
            margin: 0 var(--spacing-1);
            font-weight: bold;
            color: var(--accent-green);
        }

        .group-1 { background: var(--group-1); border: 1px solid #fbbf24; color: #fbbf24; }
        .group-2 { background: var(--group-2); border: 1px solid #60a5fa; color: #60a5fa; }
        .group-3 { background: var(--group-3); border: 1px solid #c084fc; color: #c084fc; }

        .examples-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--spacing-5);
            margin: var(--spacing-8) 0;
        }

        .example-card {
            background: var(--background-dark);
            color: var(--text-primary);
            padding: var(--spacing-5);
            border-radius: var(--radius-lg);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            border: 1px solid var(--accent-blue);
        }

        .example-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            transform: scale(0);
            transition: transform 0.5s ease;
        }

        .example-card:hover::before {
            transform: scale(1);
        }

        .example-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
            background: var(--accent-blue);
            border-color: var(--accent-blue);
        }

        .example-card:hover h5,
        .example-card:hover p,
        .example-card:hover .pattern {
            color: var(--background-darker);
        }

        .example-card h5 {
            font-size: 1.2em;
            margin-bottom: var(--spacing-3);
            color: var(--accent-blue);
            transition: color 0.3s ease;
        }

        .example-card .pattern {
            font-family: 'Courier New', monospace;
            background: var(--background-darker);
            padding: var(--spacing-2) var(--spacing-3);
            border-radius: var(--radius-sm);
            display: inline-block;
            margin-top: var(--spacing-3);
            transition: all 0.3s ease;
            border: 1px solid var(--border-color);
        }

        .challenge-box {
            background: var(--background-dark);
            color: var(--text-primary);
            padding: var(--spacing-8);
            border-radius: var(--radius-lg);
            margin: var(--spacing-8) 0;
            position: relative;
            border: 2px solid var(--accent-green);
        }

        .challenge-box h4 {
            font-size: 1.5em;
            margin-bottom: var(--spacing-4);
            color: var(--accent-green);
        }

        .challenge-description {
            margin-bottom: var(--spacing-5);
            font-size: 1.1em;
            color: var(--text-secondary);
        }

        .challenge-input {
            width: 100%;
            padding: var(--spacing-4);
            border: 1px solid var(--border-color);
            border-radius: var(--radius);
            font-size: 1em;
            font-family: 'Courier New', monospace;
            margin-bottom: var(--spacing-4);
            background: var(--background-darker);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .challenge-input:focus {
            outline: none;
            border-color: var(--accent-green);
            box-shadow: 0 0 0 3px rgba(156, 182, 143, 0.15);
        }

        .challenge-button {
            background: var(--accent-green);
            color: var(--background-darker);
            border: none;
            padding: var(--spacing-3) var(--spacing-8);
            border-radius: var(--radius);
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .challenge-button:hover {
            transform: scale(1.05);
            box-shadow: var(--shadow);
            filter: brightness(1.1);
        }

        .challenge-result {
            margin-top: var(--spacing-5);
            padding: var(--spacing-4);
            border-radius: var(--radius);
            font-weight: bold;
            display: none;
        }

        .challenge-result.success {
            background: rgba(156, 182, 143, 0.2);
            border: 2px solid var(--accent-green);
            color: var(--accent-green);
        }

        .challenge-result.error {
            background: rgba(225, 97, 98, 0.2);
            border: 2px solid var(--accent-red);
            color: var(--accent-red);
        }

        .cheatsheet {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--spacing-4);
            margin: var(--spacing-5) 0;
        }

        .cheat-item {
            background: var(--background-dark);
            padding: var(--spacing-4);
            border-radius: var(--radius);
            border-left: 4px solid var(--accent-blue);
            border: 1px solid var(--border-color);
        }

        .cheat-item code {
            font-family: 'Courier New', monospace;
            background: var(--background-darker);
            color: var(--accent-blue);
            padding: var(--spacing-1) var(--spacing-2);
            border-radius: var(--radius-sm);
            border: 1px solid var(--accent-blue);
        }

        .cheat-item .description {
            margin-top: var(--spacing-2);
            color: var(--text-secondary);
        }

        .btn {
            background: var(--accent-blue);
            color: var(--text-primary);
            border: none;
            padding: var(--spacing-3) var(--spacing-6);
            border-radius: var(--radius);
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-block;
            text-decoration: none;
            margin: var(--spacing-3) var(--spacing-2);
            font-weight: 600;
        }

        .btn:hover {
            filter: brightness(1.1);
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        .btn.secondary {
            background: var(--accent-green);
            color: var(--background-darker);
        }

        .btn.secondary:hover {
            filter: brightness(1.1);
        }

        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: var(--spacing-8);
            padding-top: var(--spacing-5);
            border-top: 2px solid var(--border-color);
        }

        @media (max-width: 968px) {
            .main-content {
                grid-template-columns: 1fr;
            }

            .sidebar {
                position: static;
            }

            .container {
                padding: var(--spacing-4);
            }
        }

        @media (max-width: 640px) {
            .header h1 {
                font-size: 1.8em;
            }

            .examples-grid {
                grid-template-columns: 1fr;
            }

            .header,
            .content-area,
            .sidebar {
                padding: var(--spacing-5);
            }

            .editor-controls {
                flex-direction: column;
            }

            .input-group {
                min-width: auto;
            }
        }

        /* Visualizer Styles */
        .visualizer-container {
            background: var(--background-dark);
            border-radius: var(--radius-lg);
            padding: var(--spacing-6);
            margin: var(--spacing-6) 0;
            border: 1px solid var(--border-color);
        }

        .visualizer-input-section {
            margin-bottom: var(--spacing-6);
        }

        .input-row {
            display: flex;
            gap: var(--spacing-4);
            align-items: end;
            margin-bottom: var(--spacing-4);
        }

        .flex-1 {
            flex: 1;
        }

        .flags-section {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-2);
        }

        .flags-inline {
            display: flex;
            gap: var(--spacing-3);
        }

        .visualizer-input {
            width: 100%;
            padding: var(--spacing-3) var(--spacing-4);
            border: 1px solid var(--accent-blue);
            border-radius: var(--radius);
            background: var(--background-darker);
            color: var(--text-primary);
            font-family: 'Courier New', monospace;
            font-size: 1.1em;
            transition: all 0.3s ease;
        }

        .visualizer-input:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(104, 141, 177, 0.15);
        }

        .visualizer-textarea {
            width: 100%;
            min-height: 120px;
            padding: var(--spacing-4);
            border: 1px solid var(--border-color);
            border-radius: var(--radius);
            background: var(--background-darker);
            color: var(--text-primary);
            font-family: 'Courier New', monospace;
            resize: vertical;
            transition: all 0.3s ease;
        }

        .visualizer-textarea:focus {
            outline: none;
            border-color: var(--accent-blue);
            box-shadow: 0 0 0 3px rgba(104, 141, 177, 0.15);
        }

        .visualizer-output {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--spacing-4);
            margin-bottom: var(--spacing-6);
        }

        .pattern-breakdown,
        .matches-visualization,
        .groups-info {
            background: var(--card-background);
            border-radius: var(--radius);
            padding: var(--spacing-4);
            border: 1px solid var(--border-color);
        }

        .pattern-breakdown h4,
        .matches-visualization h4,
        .groups-info h4 {
            color: var(--accent-blue);
            margin-bottom: var(--spacing-3);
            font-size: 1.1em;
        }

        .breakdown-content,
        .matches-content {
            min-height: 150px;
        }

        .breakdown-placeholder,
        .matches-placeholder {
            color: var(--text-secondary);
            font-style: italic;
        }

        .match-stats {
            display: flex;
            gap: var(--spacing-4);
            margin-bottom: var(--spacing-3);
            flex-wrap: wrap;
        }

        .stat-item {
            background: var(--background-dark);
            color: var(--text-secondary);
            padding: var(--spacing-2) var(--spacing-3);
            border-radius: var(--radius-sm);
            font-size: 0.875rem;
            border: 1px solid var(--border-color);
        }

        .stat-item.valid {
            color: var(--accent-green);
            border-color: var(--accent-green);
        }

        .stat-item.invalid {
            color: var(--accent-red);
            border-color: var(--accent-red);
        }

        .highlighted-text {
            font-family: 'Courier New', monospace;
            line-height: 1.6;
            word-break: break-word;
        }

        .pattern-part-visual {
            display: inline-block;
            padding: var(--spacing-1) var(--spacing-2);
            margin: var(--spacing-1);
            border-radius: var(--radius-sm);
            font-family: 'Courier New', monospace;
            font-weight: bold;
            font-size: 0.9em;
        }

        .part-literal {
            background: rgba(104, 141, 177, 0.2);
            color: var(--accent-blue);
            border: 1px solid var(--accent-blue);
        }

        .part-metachar {
            background: rgba(225, 97, 98, 0.2);
            color: var(--accent-red);
            border: 1px solid var(--accent-red);
        }

        .part-quantifier {
            background: rgba(156, 182, 143, 0.2);
            color: var(--accent-green);
            border: 1px solid var(--accent-green);
        }

        .part-group {
            background: rgba(255, 191, 36, 0.2);
            color: #fbbf24;
            border: 1px solid #fbbf24;
        }

        .part-class {
            background: rgba(96, 165, 250, 0.2);
            color: #60a5fa;
            border: 1px solid #60a5fa;
        }

        .quick-patterns {
            border-top: 1px solid var(--border-color);
            padding-top: var(--spacing-4);
        }

        .quick-patterns h4 {
            color: var(--text-primary);
            margin-bottom: var(--spacing-3);
        }

        .pattern-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: var(--spacing-2);
        }

        .pattern-btn {
            background: var(--background-darker);
            color: var(--text-primary);
            border: 1px solid var(--accent-blue);
            padding: var(--spacing-2) var(--spacing-3);
            border-radius: var(--radius);
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.875rem;
        }

        .pattern-btn:hover {
            background: var(--accent-blue);
            color: var(--background-darker);
            transform: translateY(-1px);
        }

        .groups-content {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-2);
        }

        .group-item {
            background: var(--background-dark);
            padding: var(--spacing-2) var(--spacing-3);
            border-radius: var(--radius-sm);
            border: 1px solid var(--border-color);
            font-family: 'Courier New', monospace;
        }

        .group-label {
            color: var(--accent-green);
            font-weight: bold;
        }

        .group-value {
            color: var(--text-primary);
            margin-left: var(--spacing-2);
        }

        @media (max-width: 968px) {
            .visualizer-output {
                grid-template-columns: 1fr;
            }

            .input-row {
                flex-direction: column;
                align-items: stretch;
            }

            .pattern-buttons {
                justify-content: center;
            }
        }

        /* Pattern Analysis Styles */
        .pattern-analysis {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-3);
        }

        .pattern-part-visual {
            display: inline-block;
            margin-right: var(--spacing-2);
        }

        .part-explanation {
            font-size: 0.875rem;
            color: var(--text-secondary);
            margin-top: var(--spacing-1);
            padding-left: var(--spacing-2);
            border-left: 2px solid var(--border-color);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéØ RegExplain</h1>
            <p>Lerne Regular Expressions spielend einfach - Schritt f√ºr Schritt!</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar">
                    <span id="progressText">0% abgeschlossen</span>
                </div>
            </div>
        </div>

        <div class="main-content">
            <aside class="sidebar">
                <h2>üìö Lektionen</h2>
                <ul class="lesson-list" id="lessonList">
                    <li class="lesson-item active" data-lesson="basics">Grundlagen</li>
                    <li class="lesson-item" data-lesson="literals">Literale Zeichen</li>
                    <li class="lesson-item" data-lesson="metacharacters">Metazeichen</li>
                    <li class="lesson-item" data-lesson="quantifiers">Quantifizierer</li>
                    <li class="lesson-item" data-lesson="classes">Zeichenklassen</li>
                    <li class="lesson-item" data-lesson="anchors">Anker</li>
                    <li class="lesson-item" data-lesson="groups">Gruppen</li>
                    <li class="lesson-item" data-lesson="lookarounds">Lookarounds</li>
                    <li class="lesson-item" data-lesson="examples">Praxisbeispiele</li>
                    <li class="lesson-item" data-lesson="visualizer">Interaktiver Visualizer</li>
                    <li class="lesson-item" data-lesson="challenges">Herausforderungen</li>
                </ul>
            </aside>

            <main class="content-area">
                <!-- Grundlagen -->
                <section class="tutorial-section active" id="basics">
                    <h3>üéØ Willkommen bei RegExplain!</h3>
                    <div class="tutorial-content">
                        <div class="explanation-box">
                            <h4>Was sind Regular Expressions?</h4>
                            <p>Regular Expressions (Regex) sind Muster zur Textsuche und -verarbeitung. Stell dir vor, du suchst in einem Text nach allen E-Mail-Adressen - Regex macht das m√∂glich!</p>
                        </div>

                        <h4>Dein erstes Regex-Muster</h4>
                        <p>Lass uns mit etwas Einfachem beginnen. Klicke auf das Muster, um es zu kopieren:</p>
                        <div class="regex-pattern" onclick="copyToEditor('Hallo')">Hallo</div>
                        <p>Dieses Muster findet das Wort "Hallo" in einem Text.</p>

                        <div class="live-editor">
                            <h4>üî¨ Live-Editor - Probiere es aus!</h4>
                            <div class="editor-controls">
                                <div class="input-group">
                                    <label for="regexInput">Regex-Muster:</label>
                                    <input type="text" id="regexInput" placeholder="Gib dein Muster ein...">
                                </div>
                                <div class="input-group">
                                    <label>Flags:</label>
                                    <div class="flags-group">
                                        <div class="flag-checkbox">
                                            <input type="checkbox" id="flagG" checked>
                                            <label for="flagG">g (global)</label>
                                        </div>
                                        <div class="flag-checkbox">
                                            <input type="checkbox" id="flagI">
                                            <label for="flagI">i (case-insensitive)</label>
                                        </div>
                                        <div class="flag-checkbox">
                                            <input type="checkbox" id="flagM">
                                            <label for="flagM">m (multiline)</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <label for="testText">Test-Text:</label>
                            <textarea id="testText" class="test-text">Hallo Welt! Hallo Regex! Wie geht es dir?</textarea>
                            <label>Ergebnis:</label>
                            <div class="result-display" id="resultDisplay">Gib ein Muster ein, um Matches zu sehen...</div>
                        </div>

                        <div class="navigation-buttons">
                            <button class="btn secondary" disabled>‚Üê Vorherige</button>
                            <button class="btn" onclick="nextLesson()">N√§chste ‚Üí</button>
                        </div>
                    </div>
                </section>

                <!-- Literale Zeichen -->
                <section class="tutorial-section" id="literals">
                    <h3>üìù Literale Zeichen</h3>
                    <div class="tutorial-content">
                        <div class="explanation-box">
                            <h4>Was sind literale Zeichen?</h4>
                            <p>Literale Zeichen sind die einfachsten Bausteine. Sie matchen genau sich selbst - ein "a" findet ein "a", eine "5" findet eine "5".</p>
                        </div>

                        <h4>Beispiele:</h4>
                        <div class="pattern-parts">
                            <span class="pattern-part literal">abc</span>
                            <span>‚Üí findet "abc"</span>
                        </div>
                        <div class="pattern-parts">
                            <span class="pattern-part literal">123</span>
                            <span>‚Üí findet "123"</span>
                        </div>
                        <div class="pattern-parts">
                            <span class="pattern-part literal">Test</span>
                            <span>‚Üí findet "Test"</span>
                        </div>

                        <div class="challenge-box">
                            <h4>üéØ Mini-Challenge</h4>
                            <p class="challenge-description">Finde das Wort "Katze" im Text!</p>
                            <input type="text" class="challenge-input" id="challenge1" placeholder="Dein Regex-Muster...">
                            <button class="challenge-button" onclick="checkChallenge('challenge1', 'Katze', 'Die Katze sitzt auf der Matte. Eine Katze ist ein Haustier.')">Pr√ºfen</button>
                            <div class="challenge-result" id="challenge1-result"></div>
                        </div>

                        <div class="navigation-buttons">
                            <button class="btn secondary" onclick="previousLesson()">‚Üê Vorherige</button>
                            <button class="btn" onclick="nextLesson()">N√§chste ‚Üí</button>
                        </div>
                    </div>
                </section>

                <!-- Metazeichen -->
                <section class="tutorial-section" id="metacharacters">
                    <h3>‚ö° Metazeichen - Die Superkr√§fte</h3>
                    <div class="tutorial-content">
                        <div class="explanation-box">
                            <h4>Metazeichen sind spezielle Zeichen mit Superkr√§ften!</h4>
                            <p>Diese Zeichen haben besondere Bedeutungen und machen Regex so m√§chtig.</p>
                        </div>

                        <div class="cheatsheet">
                            <div class="cheat-item">
                                <code>.</code>
                                <div class="description">Beliebiges einzelnes Zeichen (au√üer Newline)</div>
                            </div>
                            <div class="cheat-item">
                                <code>*</code>
                                <div class="description">0 oder mehr Wiederholungen</div>
                            </div>
                            <div class="cheat-item">
                                <code>+</code>
                                <div class="description">1 oder mehr Wiederholungen</div>
                            </div>
                            <div class="cheat-item">
                                <code>?</code>
                                <div class="description">0 oder 1 Vorkommen (optional)</div>
                            </div>
                            <div class="cheat-item">
                                <code>\d</code>
                                <div class="description">Eine Ziffer (0-9)</div>
                            </div>
                            <div class="cheat-item">
                                <code>\w</code>
                                <div class="description">Wortzeichen (a-z, A-Z, 0-9, _)</div>
                            </div>
                            <div class="cheat-item">
                                <code>\s</code>
                                <div class="description">Whitespace (Leerzeichen, Tab, etc.)</div>
                            </div>
                            <div class="cheat-item">
                                <code>\\</code>
                                <div class="description">Escapet Metazeichen (macht sie literal)</div>
                            </div>
                        </div>

                        <h4>Probiere diese Muster:</h4>
                        <div class="pattern-parts">
                            <span class="pattern-part literal">H</span>
                            <span class="pattern-part metachar">.</span>
                            <span class="pattern-part literal">llo</span>
                            <span>‚Üí findet "Hallo", "Hello", "Hxllo", ...</span>
                        </div>
                        <div class="regex-pattern" onclick="copyToEditor('H.llo')">H.llo</div>

                        <div class="pattern-parts">
                            <span class="pattern-part metachar">\d</span>
                            <span class="pattern-part quantifier">+</span>
                            <span>‚Üí findet eine oder mehrere Ziffern</span>
                        </div>
                        <div class="regex-pattern" onclick="copyToEditor('\\d+')">\\d+</div>

                        <div class="navigation-buttons">
                            <button class="btn secondary" onclick="previousLesson()">‚Üê Vorherige</button>
                            <button class="btn" onclick="nextLesson()">N√§chste ‚Üí</button>
                        </div>
                    </div>
                </section>

                <!-- Quantifizierer -->
                <section class="tutorial-section" id="quantifiers">
                    <h3>üî¢ Quantifizierer - Wie oft?</h3>
                    <div class="tutorial-content">
                        <div class="explanation-box">
                            <h4>Quantifizierer bestimmen, wie oft etwas vorkommen soll</h4>
                            <p>Mit Quantifizierern kannst du pr√§zise angeben, wie oft ein Zeichen oder eine Gruppe erscheinen soll.</p>
                        </div>

                        <div class="cheatsheet">
                            <div class="cheat-item">
                                <code>{3}</code>
                                <div class="description">Genau 3 mal</div>
                            </div>
                            <div class="cheat-item">
                                <code>{2,5}</code>
                                <div class="description">Zwischen 2 und 5 mal</div>
                            </div>
                            <div class="cheat-item">
                                <code>{2,}</code>
                                <div class="description">Mindestens 2 mal</div>
                            </div>
                            <div class="cheat-item">
                                <code>*</code>
                                <div class="description">0 oder mehr (= {0,})</div>
                            </div>
                            <div class="cheat-item">
                                <code>+</code>
                                <div class="description">1 oder mehr (= {1,})</div>
                            </div>
                            <div class="cheat-item">
                                <code>?</code>
                                <div class="description">0 oder 1 (= {0,1})</div>
                            </div>
                        </div>

                        <h4>Beispiele zum Ausprobieren:</h4>
                        <div class="pattern-parts">
                            <span class="pattern-part metachar">\d</span>
                            <span class="pattern-part quantifier">{4}</span>
                            <span>‚Üí findet genau 4 Ziffern (z.B. Jahreszahl)</span>
                        </div>
                        <div class="regex-pattern" onclick="copyToEditor('\\d{4}')">\\d{4}</div>

                        <div class="pattern-parts">
                            <span class="pattern-part literal">Ha</span>
                            <span class="pattern-part quantifier">+</span>
                            <span>‚Üí findet "Ha", "Haa", "Haaa", ...</span>
                        </div>
                        <div class="regex-pattern" onclick="copyToEditor('Ha+')">Ha+</div>

                        <div class="challenge-box">
                            <h4>üéØ Challenge: Telefonnummer</h4>
                            <p class="challenge-description">Finde eine deutsche Telefonnummer im Format: 0151-12345678</p>
                            <input type="text" class="challenge-input" id="challenge2" placeholder="Tipp: Nutze \d und {n}">
                            <button class="challenge-button" onclick="checkChallenge('challenge2', '\\d{4}-\\d{8}', 'Meine Nummer ist 0151-12345678. Ruf mich an!')">Pr√ºfen</button>
                            <div class="challenge-result" id="challenge2-result"></div>
                        </div>

                        <div class="navigation-buttons">
                            <button class="btn secondary" onclick="previousLesson()">‚Üê Vorherige</button>
                            <button class="btn" onclick="nextLesson()">N√§chste ‚Üí</button>
                        </div>
                    </div>
                </section>

                <!-- Zeichenklassen -->
                <section class="tutorial-section" id="classes">
                    <h3>üì¶ Zeichenklassen - Gruppen von Zeichen</h3>
                    <div class="tutorial-content">
                        <div class="explanation-box">
                            <h4>Zeichenklassen matchen eines aus mehreren Zeichen</h4>
                            <p>Mit eckigen Klammern [...] kannst du eine Auswahl von erlaubten Zeichen definieren.</p>
                        </div>

                        <div class="cheatsheet">
                            <div class="cheat-item">
                                <code>[abc]</code>
                                <div class="description">a oder b oder c</div>
                            </div>
                            <div class="cheat-item">
                                <code>[a-z]</code>
                                <div class="description">Kleinbuchstaben von a bis z</div>
                            </div>
                            <div class="cheat-item">
                                <code>[A-Z]</code>
                                <div class="description">Gro√übuchstaben von A bis Z</div>
                            </div>
                            <div class="cheat-item">
                                <code>[0-9]</code>
                                <div class="description">Ziffern von 0 bis 9</div>
                            </div>
                            <div class="cheat-item">
                                <code>[^abc]</code>
                                <div class="description">Alles au√üer a, b oder c</div>
                            </div>
                            <div class="cheat-item">
                                <code>[a-zA-Z0-9]</code>
                                <div class="description">Alphanumerische Zeichen</div>
                            </div>
                        </div>

                        <h4>Praktische Beispiele:</h4>
                        <div class="pattern-parts">
                            <span class="pattern-part class">[Hh]</span>
                            <span class="pattern-part literal">allo</span>
                            <span>‚Üí findet "Hallo" oder "hallo"</span>
                        </div>
                        <div class="regex-pattern" onclick="copyToEditor('[Hh]allo')">[Hh]allo</div>

                        <div class="pattern-parts">
                            <span class="pattern-part class">[A-Z]</span>
                            <span class="pattern-part class">[a-z]</span>
                            <span class="pattern-part quantifier">+</span>
                            <span>‚Üí findet W√∂rter mit Gro√übuchstabe am Anfang</span>
                        </div>
                        <div class="regex-pattern" onclick="copyToEditor('[A-Z][a-z]+')">[A-Z][a-z]+</div>

                        <div class="navigation-buttons">
                            <button class="btn secondary" onclick="previousLesson()">‚Üê Vorherige</button>
                            <button class="btn" onclick="nextLesson()">N√§chste ‚Üí</button>
                        </div>
                    </div>
                </section>

                <!-- Anker -->
                <section class="tutorial-section" id="anchors">
                    <h3>‚öì Anker - Position im Text</h3>
                    <div class="tutorial-content">
                        <div class="explanation-box">
                            <h4>Anker bestimmen, wo im Text das Muster stehen soll</h4>
                            <p>Mit Ankern kannst du festlegen, dass dein Muster am Anfang, Ende oder an Wortgrenzen stehen muss.</p>
                        </div>

                        <div class="cheatsheet">
                            <div class="cheat-item">
                                <code>^</code>
                                <div class="description">Anfang der Zeile</div>
                            </div>
                            <div class="cheat-item">
                                <code>$</code>
                                <div class="description">Ende der Zeile</div>
                            </div>
                            <div class="cheat-item">
                                <code>\b</code>
                                <div class="description">Wortgrenze</div>
                            </div>
                            <div class="cheat-item">
                                <code>\B</code>
                                <div class="description">Keine Wortgrenze</div>
                            </div>
                        </div>

                        <h4>Beispiele:</h4>
                        <div class="pattern-parts">
                            <span class="pattern-part metachar">^</span>
                            <span class="pattern-part literal">Start</span>
                            <span>‚Üí findet "Start" nur am Zeilenanfang</span>
                        </div>
                        <div class="regex-pattern" onclick="copyToEditor('^Start')">^Start</div>

                        <div class="pattern-parts">
                            <span class="pattern-part literal">Ende</span>
                            <span class="pattern-part metachar">$</span>
                            <span>‚Üí findet "Ende" nur am Zeilenende</span>
                        </div>
                        <div class="regex-pattern" onclick="copyToEditor('Ende$')">Ende$</div>

                        <div class="pattern-parts">
                            <span class="pattern-part metachar">\b</span>
                            <span class="pattern-part literal">Wort</span>
                            <span class="pattern-part metachar">\b</span>
                            <span>‚Üí findet "Wort" als ganzes Wort</span>
                        </div>
                        <div class="regex-pattern" onclick="copyToEditor('\\bWort\\b')">\\bWort\\b</div>

                        <div class="navigation-buttons">
                            <button class="btn secondary" onclick="previousLesson()">‚Üê Vorherige</button>
                            <button class="btn" onclick="nextLesson()">N√§chste ‚Üí</button>
                        </div>
                    </div>
                </section>

                <!-- Gruppen -->
                <section class="tutorial-section" id="groups">
                    <h3>üë• Gruppen - Zusammenfassen und Erfassen</h3>
                    <div class="tutorial-content">
                        <div class="explanation-box">
                            <h4>Gruppen fassen Teile deines Musters zusammen</h4>
                            <p>Mit runden Klammern (...) kannst du Teile gruppieren und sp√§ter darauf zugreifen.</p>
                        </div>

                        <div class="cheatsheet">
                            <div class="cheat-item">
                                <code>(abc)</code>
                                <div class="description">Erfassende Gruppe</div>
                            </div>
                            <div class="cheat-item">
                                <code>(?:abc)</code>
                                <div class="description">Nicht-erfassende Gruppe</div>
                            </div>
                            <div class="cheat-item">
                                <code>(a|b)</code>
                                <div class="description">Alternation: a oder b</div>
                            </div>
                            <div class="cheat-item">
                                <code>\1, \2</code>
                                <div class="description">R√ºckreferenz auf Gruppe 1, 2</div>
                            </div>
                        </div>

                        <h4>Beispiele:</h4>
                        <div class="pattern-parts">
                            <span class="pattern-part group">(Ha)</span>
                            <span class="pattern-part quantifier">+</span>
                            <span>‚Üí findet "Ha", "HaHa", "HaHaHa", ...</span>
                        </div>
                        <div class="regex-pattern" onclick="copyToEditor('(Ha)+'))">(Ha)+</div>

                        <div class="pattern-parts">
                            <span class="pattern-part group">(Hund|Katze)</span>
                            <span>‚Üí findet "Hund" oder "Katze"</span>
                        </div>
                        <div class="regex-pattern" onclick="copyToEditor('(Hund|Katze)')">(Hund|Katze)</div>

                        <div class="challenge-box">
                            <h4>üéØ Challenge: HTML-Tags</h4>
                            <p class="challenge-description">Finde √∂ffnende und schlie√üende HTML-Tags wie &lt;div&gt;...&lt;/div&gt;</p>
                            <input type="text" class="challenge-input" id="challenge3" placeholder="Tipp: Nutze Gruppen und R√ºckreferenzen">
                            <button class="challenge-button" onclick="checkChallenge('challenge3', '<(\\w+)>.*?</\\1>', '<div>Hallo Welt</div> und <span>Text</span>')">Pr√ºfen</button>
                            <div class="challenge-result" id="challenge3-result"></div>
                        </div>

                        <div class="navigation-buttons">
                            <button class="btn secondary" onclick="previousLesson()">‚Üê Vorherige</button>
                            <button class="btn" onclick="nextLesson()">N√§chste ‚Üí</button>
                        </div>
                    </div>
                </section>

                <!-- Lookarounds -->
                <section class="tutorial-section" id="lookarounds">
                    <h3>üëÄ Lookarounds - Vorausschauen und Zur√ºckblicken</h3>
                    <div class="tutorial-content">
                        <div class="explanation-box">
                            <h4>Lookarounds pr√ºfen, ohne zu erfassen</h4>
                            <p>Diese fortgeschrittene Technik erlaubt es, Bedingungen zu pr√ºfen, ohne den Text zu konsumieren.</p>
                        </div>

                        <div class="cheatsheet">
                            <div class="cheat-item">
                                <code>(?=abc)</code>
                                <div class="description">Positive Lookahead</div>
                            </div>
                            <div class="cheat-item">
                                <code>(?!abc)</code>
                                <div class="description">Negative Lookahead</div>
                            </div>
                            <div class="cheat-item">
                                <code>(?<=abc)</code>
                                <div class="description">Positive Lookbehind</div>
                            </div>
                            <div class="cheat-item">
                                <code>(?<!abc)</code>
                                <div class="description">Negative Lookbehind</div>
                            </div>
                        </div>

                        <h4>Beispiel: Passwort-Validierung</h4>
                        <div class="pattern-parts">
                            <span class="pattern-part group">(?=.*\d)</span>
                            <span>‚Üí muss mindestens eine Ziffer enthalten</span>
                        </div>
                        <div class="pattern-parts">
                            <span class="pattern-part group">(?=.*[A-Z])</span>
                            <span>‚Üí muss mindestens einen Gro√übuchstaben enthalten</span>
                        </div>
                        <div class="regex-pattern" onclick="copyToEditor('(?=.*\\d)(?=.*[A-Z]).{8,}')">(?=.*\\d)(?=.*[A-Z]).{8,}</div>
                        <p>Dieses Muster validiert ein Passwort mit mindestens 8 Zeichen, einer Ziffer und einem Gro√übuchstaben.</p>

                        <div class="navigation-buttons">
                            <button class="btn secondary" onclick="previousLesson()">‚Üê Vorherige</button>
                            <button class="btn" onclick="nextLesson()">N√§chste ‚Üí</button>
                        </div>
                    </div>
                </section>

                <!-- Interaktiver Visualizer -->
                <section class="tutorial-section" id="visualizer">
                    <h3>üî¨ Interaktiver Regex-Visualizer</h3>
                    <div class="tutorial-content">
                        <div class="explanation-box">
                            <h4>Teste und visualisiere deine Regex-Muster!</h4>
                            <p>Gib ein Regex-Muster ein und sieh sofort, wie es funktioniert. Der Visualizer erkl√§rt jeden Teil deines Patterns und zeigt alle Matches in Echtzeit.</p>
                        </div>

                        <div class="visualizer-container">
                            <div class="visualizer-input-section">
                                <div class="input-row">
                                    <div class="input-group flex-1">
                                        <label for="visualizerPattern">Regex-Pattern:</label>
                                        <input type="text" id="visualizerPattern" placeholder="z.B. \\d{2,4}" class="visualizer-input">
                                    </div>
                                    <div class="flags-section">
                                        <label>Flags:</label>
                                        <div class="flags-inline">
                                            <div class="flag-checkbox">
                                                <input type="checkbox" id="visG" checked>
                                                <label for="visG">g</label>
                                            </div>
                                            <div class="flag-checkbox">
                                                <input type="checkbox" id="visI">
                                                <label for="visI">i</label>
                                            </div>
                                            <div class="flag-checkbox">
                                                <input type="checkbox" id="visM">
                                                <label for="visM">m</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="input-group">
                                    <label for="visualizerTestText">Test-Text:</label>
                                    <textarea id="visualizerTestText" class="visualizer-textarea">Das Jahr 2024 endet bald. Meine E-Mail ist test@example.com und meine Telefonnummer 0151-12345678. Besuche https://regexplain.com f√ºr mehr Infos!</textarea>
                                </div>
                            </div>

                            <div class="visualizer-output">
                                <div class="pattern-breakdown" id="patternBreakdown">
                                    <h4>üìã Pattern-Aufschl√ºsselung</h4>
                                    <div class="breakdown-content">
                                        <p class="breakdown-placeholder">Gib ein Pattern ein, um die Aufschl√ºsselung zu sehen...</p>
                                    </div>
                                </div>

                                <div class="matches-visualization" id="matchesVisualization">
                                    <h4>üéØ Matches & Ergebnis</h4>
                                    <div class="matches-content">
                                        <div class="match-stats">
                                            <span class="stat-item" id="matchCount">0 Matches</span>
                                            <span class="stat-item" id="patternValid">Pattern ung√ºltig</span>
                                        </div>
                                        <div class="highlighted-text" id="highlightedText">
                                            <p class="matches-placeholder">Gib ein Pattern ein, um Matches zu sehen...</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="groups-info" id="groupsInfo" style="display: none;">
                                    <h4>üë• Erfasste Gruppen</h4>
                                    <div class="groups-content" id="groupsContent">
                                        <!-- Groups will be populated by JavaScript -->
                                    </div>
                                </div>
                            </div>

                            <div class="quick-patterns">
                                <h4>‚ö° Schnell-Patterns zum Testen</h4>
                                <div class="pattern-buttons">
                                    <button class="pattern-btn" onclick="setVisualizerPattern('\\\\d{2,4}')">Zahlen (2-4 Stellen)</button>
                                    <button class="pattern-btn" onclick="setVisualizerPattern('[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.[a-zA-Z]{2,}')">E-Mail</button>
                                    <button class="pattern-btn" onclick="setVisualizerPattern('https?:\\\\/\\\\/[\\\\w.-]+')">URL</button>
                                    <button class="pattern-btn" onclick="setVisualizerPattern('\\\\b[A-Z][a-z]+\\\\b')">W√∂rter mit Gro√übuchstabe</button>
                                    <button class="pattern-btn" onclick="setVisualizerPattern('\\\\d{4}-\\\\d{4}-\\\\d{4}-\\\\d{4}')">Kreditkarte</button>
                                    <button class="pattern-btn" onclick="setVisualizerPattern('#[a-fA-F0-9]{3,6}')">Hex-Farbe</button>
                                </div>
                            </div>
                        </div>

                        <div class="navigation-buttons">
                            <button class="btn secondary" onclick="previousLesson()">‚Üê Vorherige</button>
                            <button class="btn" onclick="nextLesson()">N√§chste ‚Üí</button>
                        </div>
                    </div>
                </section>

                <!-- Praxisbeispiele -->
                <section class="tutorial-section" id="examples">
                    <h3>üöÄ Praxisbeispiele</h3>
                    <div class="tutorial-content">
                        <div class="explanation-box">
                            <h4>H√§ufig verwendete Regex-Muster</h4>
                            <p>Diese Muster kannst du direkt in deinen Projekten verwenden!</p>
                        </div>

                        <div class="examples-grid">
                            <div class="example-card" onclick="copyToEditor('^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$')">
                                <h5>üìß E-Mail-Adresse</h5>
                                <p>Validiert eine E-Mail-Adresse</p>
                                <div class="pattern">^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$</div>
                            </div>

                            <div class="example-card" onclick="copyToEditor('^\\+?[1-9]\\d{1,14}$')">
                                <h5>üì± Internationale Telefonnummer</h5>
                                <p>E.164 Format</p>
                                <div class="pattern">^\+?[1-9]\d{1,14}$</div>
                            </div>

                            <div class="example-card" onclick="copyToEditor('^(https?:\\/\\/)?([\\da-z\\.-]+)\\.([a-z\\.]{2,6})([\\/\\w \\.-]*)*\\/?$')">
                                <h5>üåê URL</h5>
                                <p>Web-Adressen validieren</p>
                                <div class="pattern">^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$</div>
                            </div>

                            <div class="example-card" onclick="copyToEditor('^(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$')">
                                <h5>üñ•Ô∏è IPv4-Adresse</h5>
                                <p>Validiert IP-Adressen</p>
                                <div class="pattern">^(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(...)</div>
                            </div>

                            <div class="example-card" onclick="copyToEditor('^[0-9]{5}$')">
                                <h5>üìÆ Deutsche PLZ</h5>
                                <p>5-stellige Postleitzahl</p>
                                <div class="pattern">^[0-9]{5}$</div>
                            </div>

                            <div class="example-card" onclick="copyToEditor('^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$')">
                                <h5>üé® Hex-Farbcode</h5>
                                <p>#FFF oder #FFFFFF</p>
                                <div class="pattern">^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$</div>
                            </div>

                            <div class="example-card" onclick="copyToEditor('^DE[0-9]{2}\\s?[0-9]{4}\\s?[0-9]{4}\\s?[0-9]{4}\\s?[0-9]{4}\\s?[0-9]{2}$')">
                                <h5>üè¶ IBAN (Deutsch)</h5>
                                <p>Deutsche IBAN validieren</p>
                                <div class="pattern">^DE[0-9]{2}\s?[0-9]{4}\s?[0-9]{4}...</div>
                            </div>

                            <div class="example-card" onclick="copyToEditor('^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$')">
                                <h5>üîí Starkes Passwort</h5>
                                <p>Min. 8 Zeichen, Gro√ü/Klein, Zahl, Sonderzeichen</p>
                                <div class="pattern">^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)...</div>
                            </div>
                        </div>

                        <div class="navigation-buttons">
                            <button class="btn secondary" onclick="previousLesson()">‚Üê Vorherige</button>
                            <button class="btn" onclick="nextLesson()">N√§chste ‚Üí</button>
                        </div>
                    </div>
                </section>

                <!-- Herausforderungen -->
                <section class="tutorial-section" id="challenges">
                    <h3>üèÜ Herausforderungen</h3>
                    <div class="tutorial-content">
                        <div class="explanation-box">
                            <h4>Teste dein Wissen!</h4>
                            <p>L√∂se diese Aufgaben, um dein Regex-Wissen zu festigen.</p>
                        </div>

                        <div class="challenge-box">
                            <h4>üéØ Challenge 1: Datum im Format TT.MM.JJJJ</h4>
                            <p class="challenge-description">Erstelle ein Muster f√ºr Datumsangaben wie 31.12.2023</p>
                            <input type="text" class="challenge-input" id="challenge4" placeholder="Tipp: \d{2}\.\d{2}\.\d{4}">
                            <button class="challenge-button" onclick="checkChallenge('challenge4', '\\d{2}\\.\\d{2}\\.\\d{4}', 'Heute ist der 31.12.2023 und morgen ist 01.01.2024')">Pr√ºfen</button>
                            <div class="challenge-result" id="challenge4-result"></div>
                        </div>

                        <div class="challenge-box">
                            <h4>üéØ Challenge 2: Kreditkartennummer</h4>
                            <p class="challenge-description">Finde Kreditkartennummern im Format: 1234-5678-9012-3456</p>
                            <input type="text" class="challenge-input" id="challenge5" placeholder="4 Gruppen mit je 4 Ziffern">
                            <button class="challenge-button" onclick="checkChallenge('challenge5', '\\d{4}-\\d{4}-\\d{4}-\\d{4}', 'Meine Karte: 1234-5678-9012-3456')">Pr√ºfen</button>
                            <div class="challenge-result" id="challenge5-result"></div>
                        </div>

                        <div class="challenge-box">
                            <h4>üéØ Challenge 3: Hashtags</h4>
                            <p class="challenge-description">Finde alle Hashtags in einem Text (z.B. #regex #learning)</p>
                            <input type="text" class="challenge-input" id="challenge6" placeholder="Beginnt mit # gefolgt von Wortzeichen">
                            <button class="challenge-button" onclick="checkChallenge('challenge6', '#\\w+', 'Ich lerne #regex und es macht #spa√ü! #coding')">Pr√ºfen</button>
                            <div class="challenge-result" id="challenge6-result"></div>
                        </div>

                        <div class="challenge-box">
                            <h4>üèÜ Meister-Challenge: E-Mail mit Subdomain</h4>
                            <p class="challenge-description">Validiere E-Mails wie user@mail.example.com</p>
                            <input type="text" class="challenge-input" id="challenge7" placeholder="Erweitere das normale E-Mail-Muster">
                            <button class="challenge-button" onclick="checkChallenge('challenge7', '[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}', 'Kontakt: admin@mail.example.com')">Pr√ºfen</button>
                            <div class="challenge-result" id="challenge7-result"></div>
                        </div>

                        <div class="navigation-buttons">
                            <button class="btn secondary" onclick="previousLesson()">‚Üê Vorherige</button>
                            <button class="btn" onclick="completeAllLessons()">üéâ Abschlie√üen</button>
                        </div>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <script>
        // Globale Variablen
        let currentLesson = 0;
        const lessons = ['basics', 'literals', 'metacharacters', 'quantifiers', 'classes', 'anchors', 'groups', 'lookarounds', 'examples', 'visualizer', 'challenges'];
        let completedLessons = new Set();

        // Event Listeners
        document.addEventListener('DOMContentLoaded', function() {
            initializeEditor();
            initializeVisualizer();
            initializeLessonNavigation();
            loadProgress();
        });

        // Editor initialisieren
        function initializeEditor() {
            const regexInput = document.getElementById('regexInput');
            const testText = document.getElementById('testText');
            const flagG = document.getElementById('flagG');
            const flagI = document.getElementById('flagI');
            const flagM = document.getElementById('flagM');

            function updateMatches() {
                const pattern = regexInput.value;
                const text = testText.value;
                const resultDisplay = document.getElementById('resultDisplay');

                if (!pattern) {
                    resultDisplay.innerHTML = 'Gib ein Muster ein, um Matches zu sehen...';
                    return;
                }

                try {
                    // Flags zusammenbauen
                    let flags = '';
                    if (flagG.checked) flags += 'g';
                    if (flagI.checked) flags += 'i';
                    if (flagM.checked) flags += 'm';

                    const regex = new RegExp(pattern, flags);
                    
                    // Alle Matches finden
                    let matches = [];
                    let match;
                    
                    if (flags.includes('g')) {
                        while ((match = regex.exec(text)) !== null) {
                            matches.push({
                                value: match[0],
                                index: match.index,
                                groups: match.slice(1)
                            });
                        }
                    } else {
                        match = regex.exec(text);
                        if (match) {
                            matches.push({
                                value: match[0],
                                index: match.index,
                                groups: match.slice(1)
                            });
                        }
                    }

                    if (matches.length === 0) {
                        resultDisplay.innerHTML = '‚ùå Keine Matches gefunden';
                        return;
                    }

                    // Text mit hervorgehobenen Matches anzeigen
                    let highlightedText = text;
                    let offset = 0;

                    // Sortiere Matches nach Index (r√ºckw√§rts, damit Indizes beim Ersetzen stimmen)
                    matches.sort((a, b) => b.index - a.index);

                    matches.forEach(m => {
                        const before = highlightedText.substring(0, m.index);
                        const match = highlightedText.substring(m.index, m.index + m.value.length);
                        const after = highlightedText.substring(m.index + m.value.length);
                        
                        let matchHtml = `<span class="match">${escapeHtml(match)}</span>`;
                        
                        // Gruppen anzeigen, wenn vorhanden
                        if (m.groups.length > 0) {
                            const groupsInfo = m.groups.map((g, i) => `Gruppe ${i+1}: "${g}"`).join(', ');
                            matchHtml = `<span class="match" title="${groupsInfo}">${escapeHtml(match)}</span>`;
                        }
                        
                        highlightedText = before + matchHtml + after;
                    });

                    // Matches umkehren f√ºr korrekte Anzeige
                    matches.reverse();
                    
                    const matchCount = matches.length;
                    const matchWord = matchCount === 1 ? 'Match' : 'Matches';
                    
                    resultDisplay.innerHTML = `‚úÖ ${matchCount} ${matchWord} gefunden:<br><br>${highlightedText}`;
                    
                    // Gruppen-Info anzeigen
                    if (matches.some(m => m.groups.length > 0)) {
                        let groupsHtml = '<br><br><strong>Erfasste Gruppen:</strong><br>';
                        matches.forEach((m, idx) => {
                            if (m.groups.length > 0) {
                                groupsHtml += `Match ${idx + 1}: `;
                                m.groups.forEach((g, i) => {
                                    groupsHtml += `<span class="group-${(i % 3) + 1}">Gruppe ${i+1}: "${g}"</span> `;
                                });
                                groupsHtml += '<br>';
                            }
                        });
                        resultDisplay.innerHTML += groupsHtml;
                    }
                    
                } catch (e) {
                    resultDisplay.innerHTML = `‚ùå Fehler im Regex-Muster: ${e.message}`;
                }
            }

            // Event Listener f√ºr Live-Updates
            regexInput.addEventListener('input', updateMatches);
            testText.addEventListener('input', updateMatches);
            flagG.addEventListener('change', updateMatches);
            flagI.addEventListener('change', updateMatches);
            flagM.addEventListener('change', updateMatches);
        }

        // Hilfsfunktion zum Escapen von HTML
        function escapeHtml(text) {
            const map = {
                '&': '&amp;',
                '<': '&lt;',
                '>': '&gt;',
                '"': '&quot;',
                "'": '&#039;'
            };
            return text.replace(/[&<>"']/g, m => map[m]);
        }

        // Muster in Editor kopieren
        function copyToEditor(pattern) {
            document.getElementById('regexInput').value = pattern;
            document.getElementById('regexInput').dispatchEvent(new Event('input'));
            
            // Visuelles Feedback
            const input = document.getElementById('regexInput');
            input.style.background = '#d1fae5';
            setTimeout(() => {
                input.style.background = '';
            }, 500);
        }

        // Lektionen-Navigation
        function initializeLessonNavigation() {
            const lessonItems = document.querySelectorAll('.lesson-item');
            
            lessonItems.forEach((item, index) => {
                item.addEventListener('click', function() {
                    showLesson(index);
                });
            });
        }

        function showLesson(index) {
            currentLesson = index;
            const lessonId = lessons[index];
            
            // Alle Sektionen verstecken
            document.querySelectorAll('.tutorial-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Aktuelle Sektion zeigen
            document.getElementById(lessonId).classList.add('active');
            
            // Sidebar aktualisieren
            document.querySelectorAll('.lesson-item').forEach((item, i) => {
                item.classList.remove('active');
                if (i === index) {
                    item.classList.add('active');
                }
            });
            
            // Lektion als abgeschlossen markieren
            markLessonCompleted(index);
            
            // Test-Text f√ºr die jeweilige Lektion setzen
            setTestTextForLesson(lessonId);
        }

        // Visualizer initialisieren
        function initializeVisualizer() {
            const patternInput = document.getElementById('visualizerPattern');
            const testTextArea = document.getElementById('visualizerTestText');
            const flagG = document.getElementById('visG');
            const flagI = document.getElementById('visI');
            const flagM = document.getElementById('visM');

            function updateVisualization() {
                const pattern = patternInput?.value || '';
                const testText = testTextArea?.value || '';
                
                if (!pattern) {
                    resetVisualizerDisplay();
                    return;
                }

                try {
                    // Flags zusammenbauen
                    let flags = '';
                    if (flagG?.checked) flags += 'g';
                    if (flagI?.checked) flags += 'i';
                    if (flagM?.checked) flags += 'm';

                    const regex = new RegExp(pattern, flags);
                    
                    // Pattern analysieren und aufschl√ºsseln
                    analyzePattern(pattern);
                    
                    // Matches finden und visualisieren
                    visualizeMatches(regex, testText, flags.includes('g'));
                    
                    // Status als g√ºltig markieren
                    updatePatternStatus(true, null);
                    
                } catch (e) {
                    updatePatternStatus(false, e.message);
                    resetVisualizerDisplay(true);
                }
            }

            // Event Listeners
            if (patternInput) patternInput.addEventListener('input', updateVisualization);
            if (testTextArea) testTextArea.addEventListener('input', updateVisualization);
            if (flagG) flagG.addEventListener('change', updateVisualization);
            if (flagI) flagI.addEventListener('change', updateVisualization);
            if (flagM) flagM.addEventListener('change', updateVisualization);
        }

        // Pattern analysieren und aufschl√ºsseln
        function analyzePattern(pattern) {
            const breakdownContent = document.querySelector('#patternBreakdown .breakdown-content');
            if (!breakdownContent) return;
            
            const analysis = parseRegexPattern(pattern);
            let html = '<div class="pattern-analysis">';
            
            analysis.forEach(part => {
                html += `<div class="pattern-part-visual ${part.type}">${escapeHtml(part.value)}</div>`;
                html += `<div class="part-explanation">${part.explanation}</div>`;
            });
            
            html += '</div>';
            breakdownContent.innerHTML = html;
        }

        // Regex-Pattern parsen (vereinfacht)
        function parseRegexPattern(pattern) {
            const parts = [];
            let i = 0;
            
            while (i < pattern.length) {
                const char = pattern[i];
                
                if (char === '\\' && i + 1 < pattern.length) {
                    const nextChar = pattern[i + 1];
                    const escape = char + nextChar;
                    
                    if (['\\d', '\\w', '\\s', '\\D', '\\W', '\\S', '\\b', '\\B'].includes(escape)) {
                        parts.push({
                            type: 'part-metachar',
                            value: escape,
                            explanation: getMetacharExplanation(escape)
                        });
                        i += 2;
                    } else {
                        parts.push({
                            type: 'part-literal',
                            value: escape,
                            explanation: `Escaped character: ${nextChar}`
                        });
                        i += 2;
                    }
                } else if (['.', '^', '$'].includes(char)) {
                    parts.push({
                        type: 'part-metachar',
                        value: char,
                        explanation: getMetacharExplanation(char)
                    });
                    i++;
                } else if (['*', '+', '?'].includes(char)) {
                    parts.push({
                        type: 'part-quantifier',
                        value: char,
                        explanation: getQuantifierExplanation(char)
                    });
                    i++;
                } else if (char === '{') {
                    let j = i + 1;
                    while (j < pattern.length && pattern[j] !== '}') j++;
                    if (j < pattern.length) {
                        const quantifier = pattern.slice(i, j + 1);
                        parts.push({
                            type: 'part-quantifier',
                            value: quantifier,
                            explanation: `Exact repetition: ${quantifier}`
                        });
                        i = j + 1;
                    } else {
                        parts.push({
                            type: 'part-literal',
                            value: char,
                            explanation: 'Literal character: {'
                        });
                        i++;
                    }
                } else if (char === '[') {
                    let j = i + 1;
                    while (j < pattern.length && pattern[j] !== ']') j++;
                    if (j < pattern.length) {
                        const charClass = pattern.slice(i, j + 1);
                        parts.push({
                            type: 'part-class',
                            value: charClass,
                            explanation: `Character class: ${charClass}`
                        });
                        i = j + 1;
                    } else {
                        parts.push({
                            type: 'part-literal',
                            value: char,
                            explanation: 'Literal character: ['
                        });
                        i++;
                    }
                } else if (char === '(') {
                    let j = i + 1;
                    let depth = 1;
                    while (j < pattern.length && depth > 0) {
                        if (pattern[j] === '(') depth++;
                        if (pattern[j] === ')') depth--;
                        j++;
                    }
                    if (depth === 0) {
                        const group = pattern.slice(i, j);
                        parts.push({
                            type: 'part-group',
                            value: group,
                            explanation: `Capturing group: ${group}`
                        });
                        i = j;
                    } else {
                        parts.push({
                            type: 'part-literal',
                            value: char,
                            explanation: 'Literal character: ('
                        });
                        i++;
                    }
                } else {
                    parts.push({
                        type: 'part-literal',
                        value: char,
                        explanation: `Literal character: ${char}`
                    });
                    i++;
                }
            }
            
            return parts;
        }

        // Hilfsfunktionen f√ºr Erkl√§rungen
        function getMetacharExplanation(char) {
            const explanations = {
                '.': 'Matches any character except newline',
                '^': 'Start of line/string',
                '$': 'End of line/string',
                '\\d': 'Any digit (0-9)',
                '\\w': 'Word character (a-z, A-Z, 0-9, _)',
                '\\s': 'Whitespace character',
                '\\D': 'Non-digit character',
                '\\W': 'Non-word character',
                '\\S': 'Non-whitespace character',
                '\\b': 'Word boundary',
                '\\B': 'Non-word boundary'
            };
            return explanations[char] || 'Special character';
        }

        function getQuantifierExplanation(char) {
            const explanations = {
                '*': '0 or more times',
                '+': '1 or more times',
                '?': '0 or 1 time (optional)'
            };
            return explanations[char] || 'Quantifier';
        }

        // Matches visualisieren
        function visualizeMatches(regex, testText, isGlobal) {
            const highlightedText = document.getElementById('highlightedText');
            const matchCount = document.getElementById('matchCount');
            const groupsInfo = document.getElementById('groupsInfo');
            const groupsContent = document.getElementById('groupsContent');
            
            if (!highlightedText || !matchCount) return;

            let matches = [];
            let match;
            
            if (isGlobal) {
                while ((match = regex.exec(testText)) !== null) {
                    matches.push({
                        value: match[0],
                        index: match.index,
                        groups: match.slice(1)
                    });
                }
            } else {
                match = regex.exec(testText);
                if (match) {
                    matches.push({
                        value: match[0],
                        index: match.index,
                        groups: match.slice(1)
                    });
                }
            }

            // Match-Anzahl aktualisieren
            const matchWord = matches.length === 1 ? 'Match' : 'Matches';
            matchCount.textContent = `${matches.length} ${matchWord}`;
            matchCount.className = 'stat-item' + (matches.length > 0 ? ' valid' : '');

            if (matches.length === 0) {
                highlightedText.innerHTML = '<p class="matches-placeholder">Keine Matches gefunden</p>';
                if (groupsInfo) groupsInfo.style.display = 'none';
                return;
            }

            // Text mit hervorgehobenen Matches
            let result = testText;
            let offset = 0;

            matches.sort((a, b) => b.index - a.index);

            matches.forEach(m => {
                const before = result.substring(0, m.index);
                const match = result.substring(m.index, m.index + m.value.length);
                const after = result.substring(m.index + m.value.length);
                
                result = before + `<span class="match">${escapeHtml(match)}</span>` + after;
            });

            highlightedText.innerHTML = result;

            // Gruppen anzeigen
            if (matches.some(m => m.groups.length > 0)) {
                if (groupsInfo) groupsInfo.style.display = 'block';
                if (groupsContent) {
                    let groupsHtml = '';
                    matches.forEach((m, idx) => {
                        if (m.groups.length > 0) {
                            groupsHtml += `<div class="group-item">`;
                            groupsHtml += `<span class="group-label">Match ${idx + 1}:</span>`;
                            m.groups.forEach((g, i) => {
                                if (g !== undefined) {
                                    groupsHtml += `<div><span class="group-label">Gruppe ${i + 1}:</span><span class="group-value">"${escapeHtml(g)}"</span></div>`;
                                }
                            });
                            groupsHtml += `</div>`;
                        }
                    });
                    groupsContent.innerHTML = groupsHtml;
                }
            } else {
                if (groupsInfo) groupsInfo.style.display = 'none';
            }
        }

        // Pattern-Status aktualisieren
        function updatePatternStatus(isValid, errorMessage) {
            const patternValid = document.getElementById('patternValid');
            if (!patternValid) return;
            
            if (isValid) {
                patternValid.textContent = 'Pattern g√ºltig';
                patternValid.className = 'stat-item valid';
            } else {
                patternValid.textContent = `Pattern ung√ºltig: ${errorMessage}`;
                patternValid.className = 'stat-item invalid';
            }
        }

        // Visualizer-Display zur√ºcksetzen
        function resetVisualizerDisplay(keepError = false) {
            const breakdownContent = document.querySelector('#patternBreakdown .breakdown-content');
            const highlightedText = document.getElementById('highlightedText');
            const matchCount = document.getElementById('matchCount');
            const groupsInfo = document.getElementById('groupsInfo');
            
            if (!keepError) {
                if (breakdownContent) {
                    breakdownContent.innerHTML = '<p class="breakdown-placeholder">Gib ein Pattern ein, um die Aufschl√ºsselung zu sehen...</p>';
                }
                if (matchCount) {
                    matchCount.textContent = '0 Matches';
                    matchCount.className = 'stat-item';
                }
            }
            
            if (highlightedText) {
                highlightedText.innerHTML = '<p class="matches-placeholder">Gib ein Pattern ein, um Matches zu sehen...</p>';
            }
            
            if (groupsInfo) {
                groupsInfo.style.display = 'none';
            }
        }

        // Pattern in Visualizer setzen (f√ºr Schnell-Buttons)
        function setVisualizerPattern(pattern) {
            const patternInput = document.getElementById('visualizerPattern');
            if (patternInput) {
                patternInput.value = pattern;
                patternInput.dispatchEvent(new Event('input'));
                
                // Visuelles Feedback
                patternInput.style.background = 'rgba(156, 182, 143, 0.3)';
                setTimeout(() => {
                    patternInput.style.background = '';
                }, 500);
            }
        }

        function nextLesson() {
            if (currentLesson < lessons.length - 1) {
                showLesson(currentLesson + 1);
            }
        }

        function previousLesson() {
            if (currentLesson > 0) {
                showLesson(currentLesson - 1);
            }
        }

        function markLessonCompleted(index) {
            completedLessons.add(index);
            const lessonItems = document.querySelectorAll('.lesson-item');
            lessonItems[index].classList.add('completed');
            updateProgress();
            saveProgress();
        }

        function updateProgress() {
            const progress = Math.round((completedLessons.size / lessons.length) * 100);
            const progressBar = document.getElementById('progressBar');
            const progressText = document.getElementById('progressText');
            
            progressBar.style.width = progress + '%';
            progressText.textContent = progress + '% abgeschlossen';
            
            if (progress === 100) {
                progressText.textContent = 'üéâ 100% - Herzlichen Gl√ºckwunsch!';
            }
        }

        // Fortschritt speichern und laden
        function saveProgress() {
            localStorage.setItem('regexplain_progress', JSON.stringify(Array.from(completedLessons)));
            localStorage.setItem('regexplain_current', currentLesson);
        }

        function loadProgress() {
            const saved = localStorage.getItem('regexplain_progress');
            const savedCurrent = localStorage.getItem('regexplain_current');
            
            if (saved) {
                completedLessons = new Set(JSON.parse(saved));
                document.querySelectorAll('.lesson-item').forEach((item, index) => {
                    if (completedLessons.has(index)) {
                        item.classList.add('completed');
                    }
                });
                updateProgress();
            }
            
            if (savedCurrent) {
                showLesson(parseInt(savedCurrent));
            }
        }

        // Test-Text f√ºr verschiedene Lektionen
        function setTestTextForLesson(lessonId) {
            const testText = document.getElementById('testText');
            const texts = {
                'basics': 'Hallo Welt! Hallo Regex! Wie geht es dir?',
                'literals': 'Die Katze sitzt auf der Matte. Eine Katze ist ein Haustier. Hund und Katze sind Freunde.',
                'metacharacters': 'Hallo Hello H3llo! Hier sind Zahlen: 123, 456, 789. Und W√∂rter mit Leerzeichen.',
                'quantifiers': 'Das Jahr 2023 und 2024. Meine Nummer: 0151-12345678. Haaallo! Ha Ha Ha!',
                'classes': 'Hallo hallo HALLO! Test123 ABC xyz. Gro√übuchstaben und kleinbuchstaben.',
                'anchors': 'Start der Zeile\nMittendrin\nEnde der Zeile\nDas Wort und Wortgrenze.',
                'groups': 'HaHaHa! Die Katze und der Hund. <div>HTML</div> <span>Tags</span>',
                'lookarounds': 'Passwort123! test@example.com Preis: 100‚Ç¨ (ohne MwSt)',
                'examples': 'Kontakt: max@example.com, Tel: +49151123456, Web: https://example.com, IP: 192.168.1.1',
                'visualizer': 'Das Jahr 2024 endet bald. Meine E-Mail ist test@example.com und meine Telefonnummer 0151-12345678. Besuche https://regexplain.com f√ºr mehr Infos!',
                'challenges': 'Heute ist der 31.12.2023. Karte: 1234-5678-9012-3456. #regex #learning #fun!'
            };
            
            testText.value = texts[lessonId] || texts['basics'];
        }

        // Challenge-Pr√ºfung
        function checkChallenge(challengeId, expectedPattern, testString) {
            const input = document.getElementById(challengeId);
            const resultDiv = document.getElementById(challengeId + '-result');
            const userPattern = input.value;
            
            if (!userPattern) {
                resultDiv.className = 'challenge-result error';
                resultDiv.style.display = 'block';
                resultDiv.textContent = '‚ùå Bitte gib ein Muster ein!';
                return;
            }
            
            try {
                const userRegex = new RegExp(userPattern, 'g');
                const expectedRegex = new RegExp(expectedPattern, 'g');
                
                const userMatches = testString.match(userRegex);
                const expectedMatches = testString.match(expectedRegex);
                
                if (JSON.stringify(userMatches) === JSON.stringify(expectedMatches)) {
                    resultDiv.className = 'challenge-result success';
                    resultDiv.style.display = 'block';
                    resultDiv.innerHTML = `‚úÖ Perfekt! Dein Muster funktioniert!<br>Gefunden: ${userMatches.join(', ')}`;
                    
                    // Visuelles Feedback
                    input.style.background = '#d1fae5';
                    setTimeout(() => {
                        input.style.background = '';
                    }, 1000);
                } else {
                    resultDiv.className = 'challenge-result error';
                    resultDiv.style.display = 'block';
                    resultDiv.innerHTML = `‚ùå Fast! Versuche es nochmal.<br>Dein Ergebnis: ${userMatches ? userMatches.join(', ') : 'Keine Matches'}<br>Erwartet: ${expectedMatches.join(', ')}`;
                }
            } catch (e) {
                resultDiv.className = 'challenge-result error';
                resultDiv.style.display = 'block';
                resultDiv.textContent = `‚ùå Fehler im Muster: ${e.message}`;
            }
        }

        // Alle Lektionen abschlie√üen
        function completeAllLessons() {
            for (let i = 0; i < lessons.length; i++) {
                markLessonCompleted(i);
            }
            
            // Konfetti-Effekt oder √§hnliches
            alert('üéâ Herzlichen Gl√ºckwunsch! Du hast alle Lektionen abgeschlossen und bist jetzt ein Regex-Experte!');
        }
    </script>
</body>
</html>